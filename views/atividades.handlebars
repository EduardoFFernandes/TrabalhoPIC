<div style="display: flex; padding: 5% 5% % 5%; background-color: #25076B;">
    <div style="background-color: #46178F;">
        <div style="display: flex;">
            <div id="star-five" style="position: absolute; margin-left: 12%; margin-top: 23%; z-index: 1;"></div>
            <div id="star-five" style="position: absolute; margin-left: 81%; margin-top: 7%; z-index: 1;"></div>
            <div class="colunaDupla center">
                <h1 style="color: white;">Conteúdo em sala de aula </h1> 
                <p style="color: white;"> “Se me derem uma alavanca e um ponto de apoio, deslocarei o mundo”. Essa foi a frase dita 
                    por Arquimedes para descrever a função de uma alavanca. Ela constitui-se de uma máquina simples, 
                    é utilizada para facilitar a execução de um trabalho e tem a capacidade de multiplicar a força 
                    aplicada sobre ela. Suas principais funções são: elevar objetos pesados, recortar, movimentar etc.</p>        
            </div>
            <div class="colunaDupla center">
                <h1 style="color: white;">Video Tutorial</h1>
                <div class="video-wrap" style="width: 524px; display: flex; align-items: baseline;">
                    <video width="524" height="295" autobuffer autoplay muted loop webkit-playsinline="true" id="videoIntroducao"
                    data-lzy-src="https://www.youtube.com/watch?v=b0y_qjdrGio&list=RDb0y_qjdrGio&start_radio=1&ab_channel=Murci%C3%A9lagoSV" 
                    src="/music"
                    playsinline="true" poster="https://kahoot.com/files/2020/03/schools-2-placeholder-702x439.png">
                        <div class="fallback">
                            <img alt="Video" width="524" height="295" />
                        </div>
                    </video>
                    <a href="javascript:;" onclick="muteUnmute()" class="btn-trans" style="position: relative; right: 30%; top: -5%;">
                        Unmute
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="display: flex;">
    <!-- iFrame -->
    <div style="display: flex; width: 100%;">
        <div class="colunaUnica iframe">
            <!--<div id="star-five" style="position: absolute; margin-left: 67%; margin-top: -17%; z-index: 1;"></div>
            <div id="star-five" style="position: absolute; margin-left: -3%; margin-top: 16%; z-index: 1;"></div> -->
            <div style="z-index: 2;">
                <iframe src="https://phet.colorado.edu/sims/html/balancing-act/latest/balancing-act_pt_BR.html" 
                width="800" height="600" scrolling="no" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Link to open the modal -->
    <div class="btns">
        <h1 style="color: white;">Questionario </h1>
        <div class="buttons" style="display: flex; justify-content: space-around; flex-wrap: wrap;">
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="0" >Questão 1</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="1" >Questão 2</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="2" >Questão 3</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="3" >Questão 4</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="4" >Questão 5</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="5" >Questão 6</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="6" >Questão 7</button>
            <button type="button" class="btn-trans btn" data-toggle="modal" data-target="#myModal" data-num="7" >Questão 8</button>
        </div>
    </div>
</div>



<!-- Modal HTML -->
<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h4 class="modal-title">Modal Window</h4>
        </div>
        <div class="flex-center">
            <img class="modal-picture presentes" src="">
        </div>
        <div class="modal-body">
            <div>
                <p class="modal-description" style="text-indent: 0px !important;"></p>
            </div>
            <div class="div-input">
                <p style="text-align: start; text-indent: 5px;">Resposta</p>
                <input class="input modal-question" type="text" name="">
                <input class="modal-answer" type="text" style="display:none">
            </div>
        </div>

        <div class="modal-footer">
            <div style="display: flex; justify-content: center; margin-top: 12px;">
                <input id="buttonId" type="text" style="display: none;">
                <a class="btn-trans btn" href="#" data-dismiss="modal" onclick="responder()">Responder</a>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>


<script>

    var questions = [
        {
            title: 'Questão 1',
            pictureUrl: '/presenteA',
            description: 'Qual a massa(Em quilos) do Presente A?',
            answer: '20'
        },
        {
            title: 'Questão 2',
            pictureUrl: '/presenteB',
            description: 'Qual a massa(Em quilos) do Presente B?',
            answer: '5'
        },
        {
            title: 'Questão 3',
            pictureUrl: '/presenteC',
            description: 'Qual a massa(Em quilos) do Presente C?',
            answer: '15'
        },
        {
            title: 'Questão 4',
            pictureUrl: '/presenteD',
            description: 'Qual a massa(Em quilos) do Presente D?',
            answer: '10'
        },
        {
            title: 'Questão 5',
            pictureUrl: '/presenteE',
            description: 'Qual a massa(Em quilos) do Presente E?',
            answer: '2.5'
        },
        {
            title: 'Questão 6',
            pictureUrl: '/presenteF',
            description: 'Qual a massa(Em quilos) do Presente F?',
            answer: '50'
        },
        {
            title: 'Questão 7',
            pictureUrl: '/presenteG',
            description: 'Qual a massa(Em quilos) do Presente G?',
            answer: '25'
        },
        {
            title: 'Questão 8',
            pictureUrl: '/presenteH',
            description: 'Qual a massa(Em quilos) do Presente H?',
            answer: '7.5'
        }
    ];

    $("#myModal").on('show.bs.modal', function(event) {
        showQuestion(event, $(this));
    });

    function showQuestion(event, $modal) {

        $modal.find('.modal-answer').val("");
        $modal.find('.modal-question').val("");
        $modal.find('.modal-question').css("background", "#fff")

        var button = $(event.relatedTarget);  // Button that triggered the modal
        var num = parseInt(button.data('num'));
        var question = questions[num];
        $modal.find('.modal-title').text(question.title);
        $modal.find('.modal-picture').attr('src',question.pictureUrl);
        $modal.find('.modal-description').text(question.description);
        $modal.find('.modal-answer').val(question.answer); 
        $modal.find('#buttonId').val(num); 
        $modal.find('.modal-question').change((e) => {
            var input = e.target;
            if(e.target.value == $modal.find('.modal-answer').val()) {
                input.animate({backgroundColor: "#14980f94"}, 1000).onfinish = () => {
                    $(input).css("background", "#14980f94");
                };
            } else {
                $(input).css("background", "#ac000094")
                $(input).effect( "shake", {distance: 5, times: 2} , "slow");
            }
        });
    }

    function responder() {
        var button = $('.buttons').children()[$('#buttonId').val()]
        var answer = $('.modal-answer').val(); 
        var question = $('.modal-question').val(); 

        if(answer == question){
            button.animate({backgroundColor: "#14980f94", color: '#000'}, 1000).onfinish = () => {
                $(button).css("background", "#14980f94");
                $(button).css("color", "#000");
            };
        } else {
            button.animate({backgroundColor: "#ac000094", color: '#000'}, 1000).onfinish = () => {
                $(button).css("background", "#ac000094");
            };
        }
    }

    /*
    $("input[type='text']").change(function () {
        var id = this.id.charAt(1)
        if(answers[this.id.charAt(1) - 1] == this.value) {
            $(this).animate({backgroundColor: "#14980f94"}, 1000);

        } else {
            $(this).css("background", "#ac000094")
            $(this).effect( "shake", {distance: 5} , "slow");
        }
    });
    */


    $('#navigationBar').children(0).children(1)[1].style.opacity = "50%"

    $(".input").inputmask({
        regex: "[0-9.]*"
    });


    /*$('#btn-ok-q1').click(() => {
        var answers = $('input[name^=questions1]').map(function(idx, elem) {
            if(answers[elem.id.charAt(1) - 1] == elem.value) {
                return true;
            }
            return false
        }).get();
        if(answers.every(allTrue)) {
            
        }
    });*/

    
</script>



